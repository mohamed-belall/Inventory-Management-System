@model List<Employee>

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        /* Ensure the body and html take the full height */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            background-color: #f5f5f5;
        }

        /* Make the mycontainer fill the remaining space */
        .mycontainer-fluid {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 60px;
            margin-left: 90px;
        }

        .mycontainer {
            width: 100%;
            max-width: 1350px;
            min-height: 85vh;
            background-color: #fff;
            padding: 35px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .table-hover tbody tr:hover {
            background-color: #f9f9f9;
        }

        .table thead th {
            background-color: #fafafa;
            color: #5a5a5a;
            font-weight: bold;
        }

        .btn-primary {
            background-color: #6c63ff;
            border-color: #6c63ff;
        }

        .btn-outline-primary {
            color: #6c63ff;
            border-color: #6c63ff;
        }

        .badge-success {
            background-color: #28a745;
        }

        .badge-warning {
            background-color: #ffc107;
        }

        /* Ensure that the content inside the mycontainer takes full height */
        .content {
            height: 100%;
            overflow-y: auto;
        }
    </style>
</head>

<body>
    <form method="post" asp-action="Delete" asp-controller="Employee">

    <div class="mycontainer-fluid">
        <div class="mycontainer mt-4 content">
            <!-- First Row: Title and Action Buttons -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <h2>Employee</h2>
                </div>
                <div class="col-md-6 text-end">
                    <button id="delete-btn" type="submit" class="btn btn-danger d-none">Delete Selected</button>
                    <button class="btn btn-outline-primary">Export to Excel</button>
                    <button class="btn btn-outline-primary">Import Orders</button>
                    <button class="btn btn-primary">New Employee</button>
                </div>
            </div>

            <hr />

            <!-- Form that will submit the selected employee IDs -->
                <div class="row mb-4">
                    <!-- Second Row: Search and Filters -->
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="Search employee">
                    </div>
                    <div class="col-md-6 d-flex justify-content-end">
                        <button class="btn btn-light me-2">
                            <i class="bi bi-calendar"></i>
                        </button>
                        <button class="btn btn-light me-2 dropdown-toggle" data-bs-toggle="dropdown">Sales</button>
                        <button class="btn btn-light me-2 dropdown-toggle" data-bs-toggle="dropdown">Status</button>
                        <button class="btn btn-light">Filter</button>
                    </div>
                </div>

                <table class="table table-hover align-middle">
                    <thead>
                        <tr>
                            <th><input type="checkbox" id="select-all"></th>
                            <th>ID</th>
                            <th>First Name</th>
                            <th>Second Name</th>
                            <th>Phone</th>
                            <th>Email</th>
                            <th>Date Of Creation</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td><input type="checkbox" name="employeeIds" value="@item?.ID" class="select-item"></td>
                                <td>@item?.ID</td>
                                <td>@item?.FName</td>
                                <td>@item?.LName</td>
                                <td>@item?.Phone</td>
                                <td>@item?.Email</td>
                                <td>@item?.CreatedDate</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Function to toggle the delete button visibility
        function toggleDeleteButton() {
            const anyChecked = $('.select-item:checked').length > 0;
            if (anyChecked) {
                $('#delete-btn').removeClass('d-none');
            } else {
                $('#delete-btn').addClass('d-none');
            }
        }

        // Event Listener for individual checkboxes
        $('.select-item').on('change', toggleDeleteButton);

        // Select/Deselect all checkboxes and toggle the delete button accordingly
        $('#select-all').on('change', function () {
            $('.select-item').prop('checked', this.checked);
            toggleDeleteButton();
        });

        // Initial call to ensure the delete button is hidden
        toggleDeleteButton();
    </script>
</body>

</html>
